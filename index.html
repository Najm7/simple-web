<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج حفظ بيانات</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>تسجيل بيانات</h1>

        <form id="dataForm">
            <input type="text" id="name" placeholder="الاسم" required />
            <input type="email" id="email" placeholder="الإيميل" required />
            <textarea id="message" placeholder="الرسالة" required></textarea>
            <button type="submit">حفظ البيانات</button>
        </form>

        <div id="status"></div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script>
        // TODO: ضع بيانات مشروع Firebase هنا
        const firebaseConfig = {
            apiKey: "AIzaSyD3qqfCdOYtJKkjOqPMjCrZAW7hUL7_psg",
            authDomain: "simple-web-6bf67.firebaseapp.com",
            projectId: "simple-web-6bf67",
            storageBucket: "simple-web-6bf67.firebasestorage.app",
            messagingSenderId: "365679843770",
            appId: "1:365679843770:web:9c325315f05aafdea0e583",
            measurementId: "G-PR52R243PH"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const form = document.getElementById("dataForm");
        const status = document.getElementById("status");

        form.addEventListener("submit", (e) => {
            e.preventDefault();

            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const message = document.getElementById("message").value;

            db.collection("submissions").add({
                name,
                email,
                message,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
                .then(() => {
                    status.innerText = "تم حفظ البيانات بنجاح ✅";
                    form.reset();
                })
                .catch((error) => {
                    status.innerText = "حدث خطأ: " + error.message;
                });
        });
    </script>
</body>

</html>